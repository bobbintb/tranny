var OK,STATUS_CLIENT_NOT_AVAILABLE,STATUS_FAIL,STATUS_INCOMPLETE_REQUEST,STATUS_INTERNAL_ERROR,STATUS_INVALID_INFO_HASH,STATUS_OK,TorrentTable,action_reannounce,action_recheck,action_remove,action_remove_data,action_start,action_stop,action_torrent_details,action_torrent_peers,action_torrent_speed,add_class,btn_save,bytes_to_iec_size,bytes_to_size,detail_elements,detail_traffic_chart,detail_update_speed,detail_update_timer,endpoint,error_handler,feed_create,feed_delete,feed_reset,feed_save,filter_add,filter_remove,fmt_duration,fmt_timestamp,handle_event_alert,handle_event_speed_overall_response,handle_event_torrent_details_response,handle_event_torrent_files_response,handle_event_torrent_list_response,handle_event_torrent_peers_response,handle_event_torrent_reannounce_response,handle_event_torrent_recheck_response,handle_event_torrent_remove_response,handle_event_torrent_speed_response,handle_event_torrent_stop_response,handle_response,has_class,has_connected,in_url,init_context_menu,init_provider_totals_chart,init_provider_type_totals_chart,init_section_totals_chart,init_traffic_chart,label_formatter,make_pie_chart,msg_cur_id,msg_user,overall_speed_update,overall_speed_update_timer,parse_json,peer_update_timer,rand_int,remove_class,render_peers,render_pie_chart,render_section_totals,render_service_totals,render_service_type_totals,root,row_load_handler,row_remove,selected_class,selected_detail_id,selected_rows,settings_save,show_alert,socket,special_alerts,speed_data,speed_dn,speed_up,speed_update_timer,template,toggle_class,torrent_table,torrent_wrapper,ts,update_speed,user_messages,window_resize_handler,_alert_num,_chart_interval_timer,_iec_sizes,_sizes,__indexOf=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};OK=0,label_formatter=function(a,b){var c;return c=Math.round(b.percent),'<div class="pie_label">'+a+"<br/>"+c+"% ("+b.data[0][1]+")</div>"},parse_json=function(a){return a.constructor===String?jQuery.parseJSON(a):a},msg_cur_id=0,msg_user=function(a,b,c){var d,e,f;return null==b&&(b=""),null==c&&(c=5),("success"===(f=!b)||"alert"===f||""===f)&&(b=""),e="success"===b?"foundicon-checkmark":"alert"===b?"foundicon-remove":"foundicon-idea",d='<div id="msgid_'+msg_cur_id+'" class="rounded alert-box [success '+b+' secondary]" style="display:none;">\n<i class="'+e+'"></i>'+a+' <a href="" class="close">&times;</a> </div>',user_messages.append(d),jQuery("#msgid_"+msg_cur_id).show(500),c&&c>0&&setTimeout("jQuery('#msgid_"+msg_cur_id+"').fadeOut(500)",1e3*c),msg_cur_id++},user_messages=jQuery("#user_messages"),handle_response=function(a,b){return null==b&&(b=!1),a=parse_json(a),a.ok=function(){return this.status===OK},null!=a.msg&&""!==a.msg&&(a.status===OK?msg_user(a.msg,"success",10):msg_user(a.msg,"error",10)),"function"==typeof b&&b(a),a},render_pie_chart=function(a,b){var c;return c={series:{pie:{show:!0,radius:1,label:{show:!0,radius:.65,formatter:label_formatter,background:{opacity:0}}}},legend:{show:!0}},jQuery.plot(b,a,c)},render_service_totals=function(){return jQuery.get("/stats/service_totals",function(a){var b;return b=parse_json(a),render_pie_chart(b,"#service_totals")})},render_section_totals=function(){return jQuery.get("/stats/section_totals",function(a){var b;return b=parse_json(a),render_pie_chart(b,"#section_totals")})},render_service_type_totals=function(){return jQuery.get("/stats/service_type_totals",function(a){var b;return b=parse_json(a),render_pie_chart(b,"#service_type_totals")})},filter_remove=function(a){var b,c,d;a.preventDefault(),d=jQuery(this);try{c={title:d.data("title"),quality:d.data("quality"),section:d.data("section")}}catch(e){return b=e,!1}return jQuery.post("/filters/delete",c,function(a){return handle_response(a).ok()?d.parent().fadeOut(500):void 0})},filter_add=function(a){var b,c,d,e,f,g,h;a.preventDefault(),console.log("got add"),d=jQuery(this);try{f=d.data("quality"),g=d.data("section"),e=jQuery("#input_"+g+"_"+f),h=e.val(),c={title:h,quality:f,section:g}}catch(i){return b=i,!1}return jQuery.post("/filters/add",c,function(a){return handle_response(a).ok()?(console.log("added ok"),e.val("")):void 0})},feed_create=function(a){var b;return a.preventDefault(),b={feed:jQuery("#new_feed_name").val(),url:jQuery("#new_url").val(),interval:jQuery("#new_interval").val(),enabled:jQuery("#new_enabled").val()},jQuery.post("/rss/create",b,function(a){return jQuery("#rss_add").foundation("reveal","close"),handle_response(a).ok()?location.reload():void 0})},feed_save=function(a){var b,c;return a.preventDefault(),c=jQuery(this).data("feed"),b={feed:c,url:jQuery("#"+(""+c+"_url")).val(),interval:jQuery("#"+(""+c+"_interval")).val(),enabled:jQuery("#"+(""+c+"_enabled")).is(":checked")},jQuery.post("/rss/save",b,handle_response)},feed_delete=function(a){var b;return a.preventDefault(),confirm("Are you sure you want to delete this RSS feed? This is a non reversable action.")?(b=jQuery(this).data("feed"),jQuery.post("/rss/delete",{feed:b},function(a){return handle_response(a).ok()?jQuery("#feed_"+b).fadeOut(500):void 0})):!1},feed_reset=function(a){var b;return a.preventDefault(),b=jQuery(this).data("feed"),jQuery("#"+b+"_form")[0].reset()},btn_save=function(a){var b;return a.preventDefault(),b={btn_api_token:jQuery("#btn_api_token").val(),btn_interval:jQuery("#btn_interval").val(),btn_enabled:!jQuery("#btn_enabled").is(":checked"),btn_url:jQuery("#btn_url").val()},jQuery.post("/services/btn/save",b,handle_response)},settings_save=function(a){var b,c,d,e,f;for(a.preventDefault(),c={},f=jQuery("#settings_form").serializeArray(),d=0,e=f.length;e>d;d++)b=f[d],c[b.name]=b.value;return jQuery.post("/settings/save",c,handle_response)},jQuery(function(){return-1!==window.location.pathname.indexOf("filters")?(jQuery(".filter_remove").on("click",filter_remove),jQuery(".filter_add").on("click",filter_add)):-1!==window.location.pathname.indexOf("services")?jQuery(".btn_save").on("click",btn_save):-1!==window.location.pathname.indexOf("settings")?jQuery(".settings_save").on("click",settings_save):-1!==window.location.pathname.indexOf("rss")&&(jQuery(".feed_save").on("click",feed_save),jQuery(".feed_delete").on("click",feed_delete),jQuery(".feed_create").on("click",feed_create),jQuery(".feed_reset").on("click",feed_reset)),jQuery(document).foundation()}),root="undefined"!=typeof exports&&null!==exports?exports:this,selected_rows=[],selected_class="selected",selected_detail_id=!1,endpoint="http://"+document.domain+":"+location.port+"/ws",update_speed=1e3,detail_update_speed=2*update_speed,detail_update_timer=null,overall_speed_update_timer=null,speed_update_timer=null,peer_update_timer=null,socket=null,has_connected=!1,user_messages=jQuery("#user_messages"),speed_up=jQuery("#speed_up"),speed_dn=jQuery("#speed_dn"),detail_traffic_chart=null,STATUS_OK=0,STATUS_FAIL=1,STATUS_INTERNAL_ERROR=3,STATUS_CLIENT_NOT_AVAILABLE=5,STATUS_INCOMPLETE_REQUEST=10,STATUS_INVALID_INFO_HASH=11,_.templateSettings.interpolate=/{{([\s\S]+?)}}/g,template={progress:_.template('<div class="progress {{ style }}">\n    <span class="count">{{ data }} %</span>\n    <span class="meter" style="width: {{ data }}"></span>\n</div>'),ratio:_.template('<span class="{{ class_name }}">{{ data }}</span>'),peer_info:_.template("{{ num }} ({{ total }})")},init_context_menu=function(){return context.init({fadeSpeed:100,above:"auto",preventDoubleContext:!0,compress:!1}),context.attach(".row",[{header:"Options"},{text:'<i class="icon-play"></i> Start',href:"#",action:function(){return action_start()}},{text:'<i class="icon-pause"></i> Stop',href:"#",action:function(){return action_stop()}},{divider:!0},{text:'<i class="icon-minus"></i> Remove',href:"#",action:function(){return action_remove()}},{text:'<i class="icon-minus"></i> Remove Data',href:"#",action:function(){return action_remove_data()}},{divider:!0},{text:'<i class="icon-arrows-cw"></i> Recheck Data',href:"#",action:function(){return action_recheck()}},{text:'<i class="icon-signal"></i> Reannounce',href:"#",action:function(){return action_reannounce()}}])},has_class=function(a,b){return new RegExp(" "+b+" ").test(" "+a.className+" ")},add_class=function(a,b){return has_class(a,b)?void 0:a.className+=" "+b},remove_class=function(a,b){var c;if(c=" "+a.className.replace(/[\t\r\n]/g," ")+" ",has_class(a,b)){for(;c.indexOf(" "+b+" ")>=0;)c=c.replace(" "+b+" "," ");return a.className=c.replace(/^\s+|\s+$/g,"")}},toggle_class=function(a,b){var c;if(c=" "+a.className.replace(/[\t\r\n]/g," ")+" ",has_class(a,b)){for(;c.indexOf(" "+b+" ")>=0;)c=c.replace(" "+b+" "," ");return a.className=c.replace(/^\s+|\s+$/g,"")}return a.className+=" "+b},TorrentTable=function(){function a(a){this.dom_id=a,b=this,this.table_body=document.querySelector(a+" article"),this.cols=["name","size","progress","ratio","up_rate","dn_rate","leechers","peers","priority","is_active"],this.info_hashes={}}var b,c;return b={},c={},a.prototype.insert_row=function(a){var b,d,e,f,g,h,i,j,k,l;if(k=a.info_hash,!(__indexOf.call(this.info_hashes,k)>=0)){for(e=document.createElement("div"),e.setAttribute("id",a.info_hash),e.className="row torrent_context_menu",e.onclick=this.row_select_handler,l=this.cols,i=0,j=l.length;j>i&&(f=l[i],d=document.createElement("div"),g="progress"===f?"completed":f,d.setAttribute("class",g),"priority"!==f&&"is_active"!==f);i++){switch(f){case"progress":h=Math.floor(a[f]>=100)?"success":"alert",d.innerHTML=template.progress({style:h,data:a[f].toFixed(2)});break;case"ratio":b=a[f]<1?"alert":"success",d.innerHTML=template.ratio({class_name:b,data:a[f].toFixed(2)});break;case"seeders":d.appendChild(document.createTextNode(template.peer_info({num:a[f],total:a.total_seeders})));break;case"peers":d.appendChild(document.createTextNode(template.peer_info({num:a[f],total:a.total_peers})));break;case"size":d.appendChild(document.createTextNode(bytes_to_size(a[f])));break;case"up_rate":case"dn_rate":d.appendChild(document.createTextNode(bytes_to_size(a[f],!0)));break;default:d.appendChild(document.createTextNode(a[f]))}c[a.info_hash]={row:e.appendChild(d)}}return this.table_body.appendChild(e)}},a.prototype.add_rows=function(a){var b;return a=function(){var c,d,e;for(e=[],c=0,d=a.length;d>c;c++)b=a[c],e.push(this.insert_row(b));return e}.call(this)},a.prototype.update=function(){},a.prototype.remove=function(a){return this.table_body.removeChild(this.table_body.getElementById(a))},a.prototype.row_select_handler=function(a){var c,d;return d=this.id,a.ctrlKey?(c=_.indexOf(selected_rows,d),-1===c?selected_rows.push(d):selected_rows.splice(c,1),toggle_class(this,selected_class)):b.select_row(d)},a.prototype.select_row=function(a){var c,d,e,f,g;for(g=b.table_body.querySelectorAll(".selected"),e=0,f=g.length;f>e;e++)c=g[e],remove_class(c,"selected");return d=document.getElementById(a),selected_rows=[a],selected_detail_id=a,null!==detail_update_timer&&clearTimeout(detail_update_timer),null!==speed_update_timer&&clearTimeout(speed_update_timer),null!==peer_update_timer&&clearTimeout(peer_update_timer),action_torrent_details(),action_torrent_speed(),action_torrent_peers(),init_traffic_chart(),has_class(d,selected_class)?void 0:add_class(d,selected_class)},a}(),torrent_table=null,make_pie_chart=function(a,b,c,d){return null==d&&(d=""),jQuery(a).highcharts({chart:{plotBackgroundColor:null,plotBorderWidth:1,plotShadow:!1},title:{text:d},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},plotOptions:{pie:{allowPointSelect:!0,cursor:"pointer",dataLabels:{enabled:!1},showInLegend:!0}},series:c,credits:{enabled:!1}})},init_provider_totals_chart=function(){var a;return a=[{type:"pie",name:"Provider Totals",data:provider_totals}],make_pie_chart("#provider_totals",null,a,null)},init_section_totals_chart=function(){var a;return a=[{type:"pie",name:"Section Totals",data:section_totals}],make_pie_chart("#section_totals",null,a,null)},init_provider_type_totals_chart=function(){var a;return a=[{type:"pie",name:"Section Totals",data:provider_type_totals}],make_pie_chart("#provider_type_totals",null,a,null)},rand_int=function(){return Math.floor(1e8*Math.random())},speed_data=[],_chart_interval_timer=null,init_traffic_chart=function(a,b){return null==a&&(a="#detail-traffic-chart"),null==b&&(b=null),detail_traffic_chart&&detail_traffic_chart.highcharts().destroy(),_chart_interval_timer&&clearInterval(_chart_interval_timer),detail_traffic_chart=jQuery(a).highcharts({chart:{alignTicks:!0,reflow:!0,type:"areaspline",events:{load:function(){var a,b;return b=this.series[0],a=this.series[1],_chart_interval_timer=setInterval(function(){var c,d;return c=speed_data.pop(),c||(c=[0,0]),d=(new Date).getTime(),b.data.length>=100&&(b.data[0].remove(),a.data[0].remove()),b.addPoint([d,c[0]],!0,!1),a.addPoint([d,c[1]],!0,!1)},1e3)}}},title:{text:b},legend:{layout:"vertical",align:"left",verticalAlign:"top",x:90,y:30,floating:!0,borderWidth:1,backgroundColor:Highcharts.theme&&Highcharts.theme.legendBackgroundColor||"#FFFFFF"},xAxis:{type:"datetime",tickPixelInterval:150},yAxis:{title:{text:"Speed"},min:0,floor:0,startOnTick:!0,showEmpty:!1},tooltip:{shared:!0,formatter:function(){var a,b,c,d,e,f;return a=new Date(this.x),c=a.getHours(),d=a.getMinutes(),f=a.getSeconds(),b=c+":"+d+":"+f,e="<b>"+b+"</b>",jQuery.each(this.points,function(){return e+="<br/>"+this.series.name+": "+bytes_to_size(this.y,!0)}),e}},credits:{enabled:!1},plotOptions:{areaspline:{fillOpacity:.5}},series:[{name:"Upload Speed"},{name:"Download Speed"}]})},row_load_handler=function(a,b){return-1!==jQuery.inArray(b.DT_RowId,selected_rows)?jQuery(a).addClass(selected_class):void 0},row_remove=function(a){return jQuery("#"+a).remove()},action_recheck=function(){return selected_rows?(socket.emit("event_torrent_recheck",{info_hash:selected_rows}),!1):void 0},action_reannounce=function(){return selected_rows?socket.emit("event_torrent_announce",{info_hash:selected_rows}):void 0},action_remove=function(){var a,b,c,d;for(d=[],b=0,c=selected_rows.length;c>b;b++)a=selected_rows[b],d.push(socket.emit("event_torrent_remove",{info_hash:a,remove_data:!1}));return d},action_remove_data=function(){var a,b,c,d;for(d=[],b=0,c=selected_rows.length;c>b;b++)a=selected_rows[b],d.push(socket.emit("event_torrent_remove",{info_hash:a,remove_data:!0}));return d},action_stop=function(){return selected_rows?socket.emit("event_torrent_stop",{info_hash:selected_rows}):void 0},action_start=function(){return selected_rows?socket.emit("event_torrent_start",{info_hash:selected_rows}):void 0},action_torrent_details=function(){return selected_detail_id?socket.emit("event_torrent_details",{info_hash:selected_detail_id}):void 0},action_torrent_speed=function(){return selected_detail_id&&socket.emit("event_torrent_speed",{info_hash:selected_detail_id}),speed_update_timer=setTimeout(action_torrent_speed,update_speed)},action_torrent_peers=function(){return selected_detail_id&&socket.emit("event_torrent_peers",{info_hash:selected_detail_id}),peer_update_timer=setTimeout(action_torrent_peers,update_speed)},special_alerts={},error_handler=function(a,b){return b.status!==STATUS_CLIENT_NOT_AVAILABLE?a(b):special_alerts[STATUS_CLIENT_NOT_AVAILABLE]?void 0:special_alerts[STATUS_CLIENT_NOT_AVAILABLE]=show_alert("Torrent client not online","error",0)},handle_event_torrent_files_response=function(){return!1},handle_event_torrent_reannounce_response=function(){return show_alert("Got reannounce response")},handle_event_torrent_recheck_response=function(){return show_alert("Got recheck response")},handle_event_alert=function(a){return show_alert(a.msg,a.msg_type)},handle_event_torrent_list_response=function(a){return torrent_table.add_rows(a.data)},handle_event_torrent_stop_response=function(a){return show_alert(a.msg,a.msg_type)},handle_event_speed_overall_response=function(a){return speed_up.text(bytes_to_size(a.data.up,!0)),speed_dn.text(bytes_to_size(a.data.dn,!0))},handle_event_torrent_speed_response=function(a){return speed_data.push([a.data.upload_payload_rate,a.data.download_payload_rate])},handle_event_torrent_peers_response=function(a){var b,c,d,e,f,g,h,i;g=function(a){return a.client.split(" ").slice(0,-1).toString()},f=[],c=[],h=_.countBy(a.data.peers,"country");for(e in h)d=h[e],f.push({label:e,value:d});i=_.countBy(a.data.peers,g);for(b in i)d=i[b],c.push({label:b,value:d});return render_peers(a.data.peers)},handle_event_torrent_remove_response=function(a){return 0===a.status?jQuery("#"+a.data.info_hash).remove():void 0},handle_event_torrent_details_response=function(a){var b,c,d,e,f;return b=a.data,c=0===b.eta?"∞":fmt_duration(b.eta),f=""+b.num_seeds+" ("+b.total_seeds+")",d=""+b.num_peers+" ("+b.total_peers+")",e=""+b.num_pieces+" ("+bytes_to_iec_size(b.piece_length)+")",detail_elements.detail_downloaded.text(bytes_to_size(b.total_done)),detail_elements.detail_uploaded.text(bytes_to_size(b.total_uploaded)),detail_elements.detail_tracker_status.text(b.tracker_status),detail_elements.detail_ratio.text(b.ratio.toFixed(2)),detail_elements.detail_next_announce.text(b.next_announce),detail_elements.detail_speed_dl.text(bytes_to_size(b.download_payload_rate,!0)),detail_elements.detail_speed_ul.text(bytes_to_size(b.upload_payload_rate,!0)),detail_elements.detail_eta.text(c),detail_elements.detail_pieces.text(e),detail_elements.detail_seeders.text(f),detail_elements.detail_peers.text(d),detail_elements.detail_availability.text(b.distributed_copies),detail_elements.detail_active_time.text(fmt_duration(b.active_time)),detail_elements.detail_seeding_time.text(fmt_duration(b.seeding_time)),detail_elements.detail_added_on.text(fmt_timestamp(b.time_added)),detail_elements.detail_name.text(b.name),detail_elements.detail_hash.text(selected_detail_id),detail_elements.detail_path.text(b.save_path),detail_elements.detail_total_size.text(b.total_size),detail_elements.detail_num_files.text(b.detail_num_files),detail_elements.detail_status.text(b.detail_status),detail_elements.detail_tracker.text(b.tracker_host)},_alert_num=0,show_alert=function(a,b,c){return null==b&&(b="info"),null==c&&(c=5),_alert_num+=1,console.log(c,a,_alert_num),user_messages.append('<div id="alert_'+_alert_num+'" data-alert class="alert-box radius '+b+'">'+a+'<a href="#" class="close">&times;</a></div>'),c>0&&setTimeout(function(){return function(){return jQuery("#alert_"+_alert_num).fadeOut(function(){return this.remove()})}}(this),1e3*c),_alert_num},fmt_timestamp=function(a){return moment.unix(a).format("D/M/YYYY hh:mm:s")},fmt_duration=function(a){return a?moment.duration(a,"seconds").humanize():"n/a"},overall_speed_update=function(){return socket.emit("event_speed_overall",{}),overall_speed_update_timer=setTimeout(overall_speed_update,update_speed)},_sizes=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],bytes_to_size=function(a,b){var c,d,e;return null==b&&(b=!1),1e3>=a?b?""+a+" B/s":""+a+" B":(e=1e3,d=Math.floor(Math.log(a)/Math.log(e)),c=(a/Math.pow(e,d)).toFixed(2)+" "+_sizes[d],b&&(c=""+c+"/s"),c)},_iec_sizes=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],bytes_to_iec_size=function(a,b){var c,d,e;return null==b&&(b=!1),1024>=a?b?""+a+" B/s":""+a+" B":(e=1024,d=Math.floor(Math.log(a)/Math.log(e)),c=(a/Math.pow(e,d)).toFixed(2)+" "+_sizes[d],b&&(c=""+c+"/s"),c)},render_peers=function(a){var b,c,d,e;for(b=[],d=0,e=a.length;e>d;d++)c=a[d],b.push('<tr>\n    <td><img src="/static/img/country/'+c.country.toLowerCase()+'.png"></td>\n    <td>'+c.ip+"</td>\n    <td>"+c.client+'</td>\n    <td><div class="progress"><span class="meter" style="'+100*c.progress+'"></span></div></td>\n    <td>'+bytes_to_size(c.down_speed,!0)+"</td>\n    <td>"+bytes_to_size(c.up_speed,!0)+"</td>\n</tr>");return jQuery("#peer_list tbody").html(b.join(""))},ts=function(){return 0|Math.round((new Date).getTime()/1e3)},detail_elements={detail_downloaded:jQuery("#detail_downloaded"),detail_uploaded:jQuery("#detail_uploaded"),detail_ratio:jQuery("#detail_ratio"),detail_next_announce:jQuery("#detail_next_announce"),detail_tracker_status:jQuery("#detail_tracker_status"),detail_speed_dl:jQuery("#detail_speed_dl"),detail_speed_ul:jQuery("#detail_speed_ul"),detail_eta:jQuery("#detail_eta"),detail_pieces:jQuery("#detail_pieces"),detail_seeders:jQuery("#detail_seeders"),detail_peers:jQuery("#detail_peers"),detail_availability:jQuery("#detail_availability"),detail_active_time:jQuery("#detail_active_time"),detail_seeding_time:jQuery("#detail_seeding_time"),detail_added_on:jQuery("#detail_added_on"),detail_name:jQuery("#detail_name"),detail_hash:jQuery("#detail_hash"),detail_path:jQuery("#detail_path"),detail_total_size:jQuery("#detail_total_size"),detail_num_files:jQuery("#detail_num_files"),detail_comment:jQuery("#detail_comment"),detail_status:jQuery("#detail_status"),detail_tracker:jQuery("#detail_tracker")},in_url=function(a){return-1!==window.location.pathname.indexOf(a)},torrent_wrapper=document.querySelector("#torrents article"),window_resize_handler=function(){return torrent_wrapper.style.height=""+(window.innerHeight-465)+"px"},jQuery(function(){return in_url("/torrents/")&&(init_context_menu(),torrent_table=new TorrentTable("#torrents"),root.t=torrent_table,detail_traffic_chart=init_traffic_chart("#detail-traffic-chart"),jQuery("#torrents article").perfectScrollbar({suppressScrollX:!0})),socket=io.connect(endpoint),socket.on("connect",function(){var a;if(has_connected&&show_alert("Reconnected to backend successfully",null,5),in_url("/torrents/")){try{torrent_table.fnClearTable()}catch(b){a=b}socket.emit("event_torrent_list")}return overall_speed_update(),has_connected=!0}),socket.on("event_speed_overall_response",function(){return function(a){return error_handler(handle_event_speed_overall_response,a)}}(this)),in_url("/torrents/")&&(socket.on("event_torrent_recheck",function(){return function(a){return error_handler(handle_event_torrent_recheck_response,a)}}(this)),socket.on("event_torrent_peers_response",handle_event_torrent_peers_response),socket.on("event_torrent_speed_response",handle_event_torrent_speed_response),socket.on("event_torrent_details_response",handle_event_torrent_details_response),socket.on("event_torrent_files",handle_event_torrent_files_response),socket.on("event_torrent_list_response",function(){return function(a){return error_handler(handle_event_torrent_list_response,a)}}(this)),socket.on("event_torrent_remove_response",handle_event_torrent_remove_response),socket.on("event_alert",handle_event_alert),socket.on("event_torrent_reannounce_response",handle_event_torrent_reannounce_response),socket.on("event_torrent_stop_response",handle_event_torrent_stop_response),jQuery("#action_stop").on("click",action_stop),jQuery("#action_start").on("click",action_start),jQuery("#action_recheck").on("click",action_recheck),jQuery("#action_reannounce").on("click",action_reannounce),jQuery("#action_remove").on("click",action_remove),jQuery("#action_remove_data").on("click",action_remove_data),window_resize_handler(),jQuery(window).on("resize",window_resize_handler)),in_url("/home")?(init_provider_totals_chart(),init_section_totals_chart(),init_provider_type_totals_chart()):void 0}),Highcharts.theme={colors:["#2b908f","#90ee7e","#f45b5b","#7798BF","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:null,style:{fontFamily:'"Helvetica Neue", Helvetica, Roboto, Arial, sans-serif'},plotBorderColor:null},title:{title:{style:{color:"#E0E0E3",textTransform:"uppercase",fontSize:"20px"}},subtitle:{style:{color:"#E0E0E3",textTransform:"uppercase"}},xAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",title:{style:{color:"#A0A0A3"}}},yAxis:{gridLineColor:"#707073",labels:{style:{color:"#E0E0E3"}},lineColor:"#707073",minorGridLineColor:"#505053",tickColor:"#707073",tickWidth:1,title:{style:{color:"#A0A0A3"}}},tooltip:{backgroundColor:"rgba(0, 0, 0, 0.85)",style:{color:"#F0F0F0"}},plotOptions:{pie:{borderColor:"#666"},series:{dataLabels:{color:"#B0B0B3"},marker:{lineColor:"#333"}},boxplot:{fillColor:"#505053"},candlestick:{lineColor:"white"},errorbar:{color:"white"}},legend:{itemStyle:{color:"#E0E0E3"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#606063"}},credits:{style:{color:"#666"}},labels:{style:{color:"#707073"}},drilldown:{activeAxisLabelStyle:{color:"#F0F0F3"},activeDataLabelStyle:{color:"#F0F0F3"}},navigation:{buttonOptions:{symbolStroke:"#DDDDDD",theme:{fill:"#505053"}}},rangeSelector:{buttonTheme:{fill:"#505053",stroke:"#000000",style:{color:"#CCC"},states:{hover:{fill:"#707073",stroke:"#000000",style:{color:"white"}},select:{fill:"#000003",stroke:"#000000",style:{color:"white"}}}},inputBoxBorderColor:"#505053",inputStyle:{backgroundColor:"#333",color:"silver"},labelStyle:{color:"silver"}},navigator:{handles:{backgroundColor:"#666",borderColor:"#AAA"},outlineColor:"#CCC",maskFill:"rgba(255,255,255,0.1)",series:{color:"#7798BF",lineColor:"#A6C7ED"},xAxis:{gridLineColor:"#505053"}},scrollbar:{barBackgroundColor:"#808083",barBorderColor:"#808083",buttonArrowColor:"#CCC",buttonBackgroundColor:"#606063",buttonBorderColor:"#606063",rifleColor:"#FFF",trackBackgroundColor:"#404043",trackBorderColor:"#404043"},legendBackgroundColor:"rgba(0, 0, 0, 0.5)",background2:"#505053",dataLabelsColor:"#B0B0B3",textColor:"#C0C0C0",contrastTextColor:"#F0F0F3",maskColor:"rgba(255,255,255,0.3)"}},Highcharts.setOptions(Highcharts.theme);